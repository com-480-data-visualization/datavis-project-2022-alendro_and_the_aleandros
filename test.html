<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script
    type="text/javascript"
    src="https://d3js.org/d3.v3.js"
  ></script>
</head><!-- w    ww    .d    e m   o2  s  .    c  o m -->
<body>
    <h3>Countries</h3>
<div id="mypanel"></div>
<br/>
<a href='#' id="update">click to update</a>
    <script type='text/javascript'>
var mydata = [
    { 'name': 'uk', 'gdp': 7.7 },
    { 'name': 'france', 'gdp': 6.7 },
    { 'name': 'italy', 'gdp': 5.7 }
];
var newdata = [
    { 'name': 'spain', 'gdp': 5.7 },
    { 'name': 'portugal', 'gdp': 4.7 },
    { 'name': 'germany', 'gdp': 11.7 }
];
var rightPanel = d3.select('#mypanel');
function updateCountries(data) {
    console.log('data', data);
    var countries = rightPanel.selectAll('g.country').data(data);
    countries.enter()
             .append('g')
             .attr('class', 'country');
    countries.append('text')
             .attr('x', 0)
             .attr('y', 10);
    countries.text(function(d) { return d.name; });
}
updateCountries(mydata);
d3.select('#update').on('click', function() {
    console.log('updating');
    updateCountries(newdata);
});
  </script>
</body>
</html>